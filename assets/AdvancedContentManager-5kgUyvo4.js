import{r as l,j as e,m as F}from"./index-BlDSkOmT.js";import{D as z,Q as w,L as Y,R as G,P as K,S as X,T as Z,U as J,V as ee,W as se,X as te,Y as ae,Z as ne,_ as ie,$ as le,a0 as re,a1 as oe,u as ce}from"./index-BBBTLyNu.js";const me=()=>{const[t,n]=l.useState({title:"",slug:"",excerpt:"",content:"",metaTitle:"",metaDescription:"",keywords:"",language:"en",status:"draft",publishDate:"",author:"",category:"",tags:[],featuredImage:"",seoScore:0,readingTime:0,wordCount:0}),[C,L]=l.useState(!1),[k,S]=l.useState(!1),[g,T]=l.useState(!1),[j,M]=l.useState(!1),[m,$]=l.useState([]),[c,p]=l.useState(-1),[v,x]=l.useState(!1),[b,E]=l.useState(!0),f=l.useRef(null),A=["Business Intelligence","Data Automation","Document Management","Integrations","Case Studies","Tutorials","News","Company Updates"],P=[{code:"en",name:"English"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"pt",name:"Portuguese"},{code:"it",name:"Italian"}],U=[{value:"draft",label:"Draft",color:"#6c757d"},{value:"review",label:"In Review",color:"#ffc107"},{value:"published",label:"Published",color:"#28a745"},{value:"archived",label:"Archived",color:"#dc3545"}];l.useEffect(()=>{if(b&&C){const s=setTimeout(()=>{D()},3e4);return()=>clearTimeout(s)}},[t,b,C]),l.useEffect(()=>{const s=H();n(a=>({...a,seoScore:s}))},[t.title,t.metaDescription,t.keywords,t.content]),l.useEffect(()=>{const s=t.content.split(/\s+/).filter(i=>i.length>0).length,a=Math.ceil(s/200);n(i=>({...i,wordCount:s,readingTime:a}))},[t.content]);const H=()=>{let s=0;return t.title.length>=50&&t.title.length<=60?s+=20:t.title.length>0&&(s+=10),t.metaDescription.length>=150&&t.metaDescription.length<=160?s+=20:t.metaDescription.length>0&&(s+=10),t.keywords.length>0&&(s+=15),t.content.length>300&&(s+=25),t.featuredImage&&(s+=10),t.tags.length>0&&(s+=10),Math.min(s,100)},D=()=>{const s=[...m.slice(0,c+1),{...t,timestamp:Date.now()}];$(s),p(s.length-1)},R=()=>{c>0&&(p(c-1),n(m[c-1]))},B=()=>{c<m.length-1&&(p(c+1),n(m[c+1]))},I=async()=>{x(!0),D();try{await new Promise(s=>setTimeout(s,1e3)),L(!1)}catch(s){console.error("Error saving content:",s)}finally{x(!1)}},O=async()=>{x(!0);try{await I(),n(s=>({...s,status:"published"}))}finally{x(!1)}},_=s=>s.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim("-"),V=s=>{n(a=>({...a,title:s,slug:_(s),metaTitle:s}))},u=(s,a,i="")=>{let d="";switch(s){case"image":d=`<img src="${a}" alt="${i}" style="max-width: 100%; height: auto;" />`;break;case"video":d=`<video controls style="max-width: 100%; height: auto;"><source src="${a}" type="video/mp4">Your browser does not support the video tag.</video>`;break;case"file":d=`<a href="${a}" target="_blank" rel="noopener noreferrer">Download File</a>`;break;default:d=`<a href="${a}" target="_blank" rel="noopener noreferrer">${i||"Link"}</a>`}const r=f.current,o=r.selectionStart,N=r.selectionEnd,y=t.content.substring(0,o)+`
`+d+`
`+t.content.substring(N);n(q=>({...q,content:y}))},h=s=>{const a=f.current,i=a.selectionStart,d=a.selectionEnd,r=t.content.substring(i,d);let o="";switch(s){case"bold":o=`**${r}**`;break;case"italic":o=`*${r}*`;break;case"underline":o=`<u>${r}</u>`;break;case"heading":o=`# ${r}`;break;case"quote":o=`> ${r}`;break;case"list":o=`- ${r}`;break;case"numberedList":o=`1. ${r}`;break;default:o=r}const N=t.content.substring(0,i)+o+t.content.substring(d);n(y=>({...y,content:N}))},Q=()=>e.jsxs(F.div,{className:"seo-panel",initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},children:[e.jsx("h3",{children:"SEO Analysis"}),e.jsx("div",{className:"seo-score",children:e.jsxs("div",{className:"score-circle",children:[e.jsx("span",{className:"score-number",children:t.seoScore}),e.jsx("span",{className:"score-label",children:"SEO Score"})]})}),e.jsxs("div",{className:"seo-metrics",children:[e.jsxs("div",{className:"metric",children:[e.jsx("label",{children:"Title Length"}),e.jsxs("span",{className:t.title.length>=50&&t.title.length<=60?"good":"warning",children:[t.title.length,"/60"]})]}),e.jsxs("div",{className:"metric",children:[e.jsx("label",{children:"Meta Description"}),e.jsxs("span",{className:t.metaDescription.length>=150&&t.metaDescription.length<=160?"good":"warning",children:[t.metaDescription.length,"/160"]})]}),e.jsxs("div",{className:"metric",children:[e.jsx("label",{children:"Word Count"}),e.jsxs("span",{className:t.wordCount>=300?"good":"warning",children:[t.wordCount," words"]})]}),e.jsxs("div",{className:"metric",children:[e.jsx("label",{children:"Reading Time"}),e.jsxs("span",{children:[t.readingTime," min read"]})]})]}),e.jsxs("div",{className:"seo-suggestions",children:[e.jsx("h4",{children:"Suggestions"}),e.jsxs("ul",{children:[t.title.length<50&&e.jsx("li",{children:"Make your title longer (aim for 50-60 characters)"}),t.metaDescription.length<150&&e.jsx("li",{children:"Add a meta description (aim for 150-160 characters)"}),t.wordCount<300&&e.jsx("li",{children:"Add more content (aim for at least 300 words)"}),!t.featuredImage&&e.jsx("li",{children:"Add a featured image"}),t.tags.length===0&&e.jsx("li",{children:"Add relevant tags"})]})]})]}),W=()=>e.jsxs(F.div,{className:"media-library",initial:{opacity:0,y:300},animate:{opacity:1,y:0},exit:{opacity:0,y:300},children:[e.jsx("h3",{children:"Media Library"}),e.jsxs("div",{className:"media-upload",children:[e.jsx("input",{type:"file",id:"media-upload",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx"}),e.jsxs("label",{htmlFor:"media-upload",className:"upload-btn",children:[e.jsx(ce,{})," Upload Media"]})]}),e.jsx("div",{className:"media-grid",children:[...Array(12)].map((s,a)=>e.jsxs("div",{className:"media-item",onClick:()=>u("image",`/images/media-${a+1}.jpg`,`Media ${a+1}`),children:[e.jsx("img",{src:`/images/media-${a+1}.jpg`,alt:`Media ${a+1}`}),e.jsx("div",{className:"media-overlay",children:e.jsx(w,{})})]},a))})]});return e.jsxs("div",{className:"advanced-content-manager",children:[e.jsxs("div",{className:"content-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"Advanced Content Manager"}),e.jsx("p",{children:"Create, edit, and manage your content with advanced features"})]}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("button",{className:`action-btn ${g?"active":""}`,onClick:()=>T(!g),children:[e.jsx(z,{})," SEO"]}),e.jsxs("button",{className:`action-btn ${j?"active":""}`,onClick:()=>M(!j),children:[e.jsx(w,{})," Media"]}),e.jsxs("button",{className:"action-btn",onClick:()=>S(!k),children:[e.jsx(Y,{})," Preview"]}),e.jsxs("button",{className:"action-btn primary",onClick:I,disabled:v,children:[e.jsx(G,{})," ",v?"Saving...":"Save"]}),e.jsxs("button",{className:"action-btn success",onClick:O,disabled:v,children:[e.jsx(K,{})," Publish"]})]})]}),e.jsxs("div",{className:"content-layout",children:[e.jsxs("div",{className:"content-main",children:[e.jsxs("div",{className:"content-form",children:[e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Title *"}),e.jsx("input",{type:"text",value:t.title,onChange:s=>V(s.target.value),placeholder:"Enter content title...",className:"title-input"})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Slug"}),e.jsx("input",{type:"text",value:t.slug,onChange:s=>n(a=>({...a,slug:s.target.value})),placeholder:"content-slug"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{value:t.category,onChange:s=>n(a=>({...a,category:s.target.value})),children:[e.jsx("option",{value:"",children:"Select Category"}),A.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Language"}),e.jsx("select",{value:t.language,onChange:s=>n(a=>({...a,language:s.target.value})),children:P.map(s=>e.jsx("option",{value:s.code,children:s.name},s.code))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsx("select",{value:t.status,onChange:s=>n(a=>({...a,status:s.target.value})),children:U.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Publish Date"}),e.jsx("input",{type:"datetime-local",value:t.publishDate,onChange:s=>n(a=>({...a,publishDate:s.target.value}))})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Excerpt"}),e.jsx("textarea",{value:t.excerpt,onChange:s=>n(a=>({...a,excerpt:s.target.value})),placeholder:"Brief description of the content...",rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Featured Image URL"}),e.jsx("input",{type:"url",value:t.featuredImage,onChange:s=>n(a=>({...a,featuredImage:s.target.value})),placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tags"}),e.jsx("input",{type:"text",value:t.tags.join(", "),onChange:s=>n(a=>({...a,tags:s.target.value.split(",").map(i=>i.trim()).filter(i=>i)})),placeholder:"tag1, tag2, tag3"})]}),e.jsxs("div",{className:"editor-toolbar",children:[e.jsx("button",{onClick:()=>h("bold"),title:"Bold",children:e.jsx(X,{})}),e.jsx("button",{onClick:()=>h("italic"),title:"Italic",children:e.jsx(Z,{})}),e.jsx("button",{onClick:()=>h("underline"),title:"Underline",children:e.jsx(J,{})}),e.jsx("div",{className:"toolbar-separator"}),e.jsx("button",{onClick:()=>h("heading"),title:"Heading",children:e.jsx(ee,{})}),e.jsx("button",{onClick:()=>h("quote"),title:"Quote",children:e.jsx(se,{})}),e.jsx("div",{className:"toolbar-separator"}),e.jsx("button",{onClick:()=>h("list"),title:"Bullet List",children:e.jsx(te,{})}),e.jsx("button",{onClick:()=>h("numberedList"),title:"Numbered List",children:e.jsx(ae,{})}),e.jsx("div",{className:"toolbar-separator"}),e.jsx("button",{onClick:()=>u("image","/images/placeholder.jpg","Image"),title:"Insert Image",children:e.jsx(w,{})}),e.jsx("button",{onClick:()=>u("video","/videos/placeholder.mp4","Video"),title:"Insert Video",children:e.jsx(ne,{})}),e.jsx("button",{onClick:()=>u("file","/files/document.pdf","Document"),title:"Insert File",children:e.jsx(ie,{})}),e.jsx("button",{onClick:()=>u("link","https://example.com","Link"),title:"Insert Link",children:e.jsx(le,{})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Content *"}),e.jsx("textarea",{ref:f,value:t.content,onChange:s=>n(a=>({...a,content:s.target.value})),placeholder:"Write your content here... Use markdown for formatting.",rows:"20",className:"content-editor"})]})]}),e.jsxs("div",{className:"seo-meta-section",children:[e.jsx("h3",{children:"SEO Meta Information"}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Meta Title"}),e.jsx("input",{type:"text",value:t.metaTitle,onChange:s=>n(a=>({...a,metaTitle:s.target.value})),placeholder:"SEO optimized title"})]})}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Meta Description"}),e.jsx("textarea",{value:t.metaDescription,onChange:s=>n(a=>({...a,metaDescription:s.target.value})),placeholder:"Brief description for search engines...",rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Keywords"}),e.jsx("input",{type:"text",value:t.keywords,onChange:s=>n(a=>({...a,keywords:s.target.value})),placeholder:"keyword1, keyword2, keyword3"})]})]})]}),e.jsxs("div",{className:"content-sidebar",children:[g&&e.jsx(Q,{}),j&&e.jsx(W,{}),e.jsxs("div",{className:"history-panel",children:[e.jsx("h3",{children:"Content History"}),e.jsxs("div",{className:"history-actions",children:[e.jsxs("button",{onClick:R,disabled:c<=0,children:[e.jsx(re,{})," Undo"]}),e.jsxs("button",{onClick:B,disabled:c>=m.length-1,children:[e.jsx(oe,{})," Redo"]})]}),e.jsx("div",{className:"history-list",children:m.slice(-5).reverse().map((s,a)=>e.jsxs("div",{className:"history-item",children:[e.jsx("span",{className:"history-time",children:new Date(s.timestamp).toLocaleTimeString()}),e.jsx("span",{className:"history-title",children:s.title||"Untitled"})]},a))})]}),e.jsx("div",{className:"auto-save-panel",children:e.jsxs("label",{className:"auto-save-toggle",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:s=>E(s.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Auto-save every 30 seconds"]})})]})]}),k&&e.jsx("div",{className:"preview-modal",children:e.jsxs("div",{className:"preview-content",children:[e.jsxs("div",{className:"preview-header",children:[e.jsx("h2",{children:"Content Preview"}),e.jsx("button",{onClick:()=>S(!1),children:"×"})]}),e.jsxs("div",{className:"preview-body",children:[e.jsx("h1",{children:t.title}),e.jsx("p",{className:"excerpt",children:t.excerpt}),e.jsx("div",{className:"content-preview",dangerouslySetInnerHTML:{__html:t.content}})]})]})})]})};export{me as default};
